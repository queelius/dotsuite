<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>The Philosophy of the Dot Universe - The Dot Notation Universe</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "The Philosophy of the Dot Universe";
        var mkdocs_page_input_path = "philosophy.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> The Dot Notation Universe
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Welcome to the Dot Notation Universe</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../getting-started/">Getting Started</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">The Philosophy of the Dot Universe</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#part-i-the-single-document-the-axis-of-depth">Part I: The Single Document - The Axis of "Depth"</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#the-addressing-layer-dotpath">The Addressing Layer (dotpath)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#the-action-layer-manipulation">The Action Layer (Manipulation)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#part-ii-collections-of-documents-the-axis-of-breadth">Part II: Collections of Documents - The Axis of "Breadth"</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#dotquery-a-logic-engine-for-collections">dotquery: A Logic Engine for Collections</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#dotrelate-a-relational-algebra-for-collections">dotrelate: A Relational Algebra for Collections</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-big-picture-a-unified-architecture">The Big Picture: A Unified Architecture</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ecosystem/">The dot Ecosystem: A Tour</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">The Dot Notation Universe</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">The Philosophy of the Dot Universe</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="the-philosophy-of-the-dot-universe">The Philosophy of the Dot Universe</h1>
<p>It always starts with a simple problem. You have a nested dictionary or a JSON payload, and you need to get a value buried deep inside. You write <code>data['user']['contacts'][0]['email']</code> and you pray that no key or index is missing along the way, lest your program crash. This leads to brittle, defensive code.</p>
<p>The first, obvious solution is a helper function. This is where our story begins. What started as a single, humble function, <code>dotget</code>, evolved through a series of questions and insights into a complete, coherent, and powerful ecosystem for manipulating data structures. This is the story of that evolution—a journey in API design guided by the principles of purity, pedagogy, and the principle of least power.</p>
<h2 id="part-i-the-single-document-the-axis-of-depth">Part I: The Single Document - The Axis of "Depth"</h2>
<p>Mastering operations <em>inside</em> a single, complex document is the foundation of the entire ecosystem. We discovered that this "per-document intelligence" rests on two fundamental axes: <strong>Addressing</strong> (finding data) and <strong>Action</strong> (changing data).</p>
<h3 id="the-addressing-layer-dotpath">The Addressing Layer (<code>dotpath</code>)</h3>
<p>This is the bedrock. It answers the question: <strong>"WHAT is the value at a given location?"</strong></p>
<p>The entire addressing layer is consolidated into a single, powerful, and extensible engine: <code>dotpath</code>. It is not just a tool, but a simple, extensible machine. Its intelligence lives within small, self-contained, "expert" components (<code>PathSegment</code> classes) that can be added, removed, or replaced.</p>
<p><code>dotpath</code> provides a rich, JSONPath-inspired syntax with features like:
- <strong>Exact selectors</strong>: <code>users.0.name</code>
- <strong>Wildcards</strong>: <code>users.*.name</code>
- <strong>Slices</strong>: <code>users[0:5]</code>
- <strong>Recursive descent</strong>: <code>**.name</code>
- <strong>Filters/Predicates</strong>: <code>books[?(@.price &lt; 10)]</code>
- <strong>Extensibility</strong>: The engine can be taught new syntax, like fuzzy key matching, by registering new segment parsers.</p>
<p>All other tools in the ecosystem that need to find data (<code>dotquery</code>, <code>dotmod</code>, etc.) use <code>dotpath</code> as their internal engine.</p>
<h3 id="the-action-layer-manipulation">The Action Layer (Manipulation)</h3>
<p>This pillar answers the question: <strong>"HOW should this document be changed?"</strong> It uses the Addressing Layer (<code>dotpath</code>) to find <em>where</em> to act. It is built on the principle of immutability—always returning a modified copy.</p>
<ul>
<li><strong><code>dotmod</code></strong>: Provides the verbs for direct, single modifications (<code>set</code>, <code>delete</code>).</li>
<li><strong><code>dotbatch</code></strong>: Provides the transactional capability to apply a sequence of <code>dotmod</code> changes atomically.</li>
<li><strong><code>dotpipe</code></strong>: Transforms a document's structure, reshaping it into something new (e.g., creating a simplified "view model").</li>
</ul>
<h2 id="part-ii-collections-of-documents-the-axis-of-breadth">Part II: Collections of Documents - The Axis of "Breadth"</h2>
<p>With a complete toolkit for single documents, we can now operate on collections, often represented as a stream of documents like in a <strong>JSONL</strong> file.</p>
<h3 id="dotquery-a-logic-engine-for-collections"><code>dotquery</code>: A Logic Engine for Collections</h3>
<p><code>dotquery</code> filters a collection. It answers the question: <strong>"Which documents in this collection match a set of logical rules?"</strong></p>
<p>Its power comes from using <code>dotpath</code> to extract values and then applying logical conditions to them. It features a lazy, chainable <code>QuerySet</code> API that allows for building complex queries efficiently from the command line.</p>
<pre><code class="language-bash"># Find all books that are either cheap (under 10) or written by &quot;Tolkien&quot;, 
# and are in stock, then resolve the query to print the matching books.
$ dotquery query &quot;(less price 10 or equals author 'Tolkien')&quot; books.json \
  | dotquery and &quot;equals in_stock true&quot; \
  | dotquery resolve
</code></pre>
<h3 id="dotrelate-a-relational-algebra-for-collections"><code>dotrelate</code>: A Relational Algebra for Collections</h3>
<p>While <code>dotquery</code> filters a collection, <code>dotrelate</code> transforms and combines multiple collections. It answers: <strong>"How can these distinct collections be joined to create new, enriched data?"</strong></p>
<p>The core operation is the <code>join</code>, which combines documents from two collections based on a shared key. It also supports other relational operations like <code>union</code>, <code>diff</code>, and <code>project</code>.</p>
<pre><code class="language-bash"># Enrich user data with their orders via a left join
$ dotrelate join --left-on=&quot;id&quot; --right-on=&quot;user_id&quot; --how=&quot;left&quot; users.jsonl orders.jsonl
</code></pre>
<h2 id="the-big-picture-a-unified-architecture">The Big Picture: A Unified Architecture</h2>
<p>This journey reveals a coherent universe of tools, underpinned by a dual API (programmatic for developers, declarative CLI for users) and a philosophy of clean, single-purpose components.</p>
<pre><code class="language-mermaid">graph TD
    subgraph The_Dot_Universe [&quot;The Dot Notation Universe&quot;]
        subgraph Single_Doc [&quot;Part I: Per-Document Intelligence ('Depth')&quot;]
            direction TB

            subgraph Addressing_Layer [&quot;Addressing Layer&quot;]
                dotpath(&quot;dotpath&lt;br&gt;(The Extensible Path Engine)&quot;)
            end

            subgraph Action_Layer [&quot;Action Layer&quot;]
                dotmod(&quot;dotmod / dotbatch&lt;br&gt;(Mutation)&quot;) --&gt; dotpipe(&quot;dotpipe&lt;br&gt;(Transformation)&quot;)
            end

        end

        subgraph Collection_Ops [&quot;Part II: Collection Operations ('Breadth')&quot;]
            direction TB
            subgraph Filter_Branch [&quot;Filtering / Logic&quot;]
                dotquery(&quot;dotquery&quot;)
            end
            subgraph Relate_Branch [&quot;Relating / Combining&quot;]
                dotrelate(&quot;dotrelate&quot;)
            end
        end

        dotpath -- &quot;Provides paths for&quot; --&gt; Action_Layer
        dotpath -- &quot;Provides paths for&quot; --&gt; Filter_Branch
        Filter_Branch -- &quot;Filters collections for&quot; --&gt; Relate_Branch
    end
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../getting-started/" class="btn btn-neutral float-left" title="Getting Started"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../ecosystem/" class="btn btn-neutral float-right" title="The dot Ecosystem: A Tour">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../getting-started/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../ecosystem/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
