<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Proposal: The Three Pillars of the dot Ecosystem - The Dot Notation Universe</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Proposal: The Three Pillars of the dot Ecosystem";
        var mkdocs_page_input_path = "proposal-collections-pillar.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> The Dot Notation Universe
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Welcome to the Dot Notation Universe</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../getting-started/">Getting Started</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../philosophy/">The Philosophy of the Dot Universe</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ecosystem/">The dot Ecosystem: A Tour</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">The Dot Notation Universe</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Proposal: The Three Pillars of the dot Ecosystem</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="proposal-the-three-pillars-of-the-dot-ecosystem">Proposal: The Three Pillars of the <code>dot</code> Ecosystem</h1>
<p>This document proposes a formal, three-pillar structure for the <code>dot</code> ecosystem. This model clarifies the purpose of each tool, establishes a clear pedagogical progression for users, and provides a robust framework for future development.</p>
<h2 id="the-core-idea-depth-truth-and-breadth">The Core Idea: Depth, Truth, and Breadth</h2>
<p>The <code>dot</code> ecosystem is organized into three distinct pillars, each answering a fundamental question about data:</p>
<ol>
<li><strong>The Addressing Pillar (Depth):</strong> Answers <strong>"Where is the data?"</strong> within a <em>single document</em>.</li>
<li><strong>The Logic Pillar (Truth):</strong> Answers <strong>"Is this true?"</strong> about a <em>single document</em>.</li>
<li><strong>The Collections Pillar (Breadth):</strong> Operates on a <em>collection of documents</em> to answer <strong>"Which documents?"</strong> or <strong>"What is the new collection?"</strong>.</li>
</ol>
<h2 id="the-ecosystem-diagram">The Ecosystem Diagram</h2>
<p>This diagram provides a high-level overview of the entire ecosystem, showing the tools within each pillar and their progression from simple to powerful.</p>
<pre><code>                                      +-------------------------+
                                      |   The `dot` Ecosystem   |
                                      +-------------------------+
                                                 |
                    +----------------------------+----------------------------+
                    |                            |                            |
        +-----------v-----------+    +-----------v-----------+    +-----------v-----------+
        |  Pillar 1: Addressing |    |    Pillar 2: Logic    |    |  Pillar 3: Transform  |
        |        (Depth)        |    |       (Truth)         |    |      (Shape)          |
        | &quot;Where is the data?&quot;  |    |  &quot;Is this true?&quot;      |    | &quot;How does it change?&quot; |
        +-----------------------+    +-----------------------+    +-----------------------+
                    |                            |                            |
        Simple:   `dotget`                  `dotexists`                 `dotpluck` (doc→any)
                    |                            |                            |
        Patterns: `dotstar`                  `dotequals`                  +-------------------+
                    |                            |                        |                   |
        Advanced: `dotselect`              `dotany`/`dotall`        `dotmod` (doc→doc)   `dotpipe` (doc→any)
                    |                            |                        |                   |
        Engine:   `dotpath`                  `dotquery`              `dotbatch` (batch/txn)
</code></pre>
<h3 id="pillar-1-the-addressing-pillar-depth">Pillar 1: The Addressing Pillar (Depth)</h3>
<p>This pillar focuses on finding and extracting data from within a single document.</p>
<ol>
<li><strong><code>dotget</code> (Simple):</strong> The entry point. Extracts a value from a single, exact path.</li>
<li><strong><code>dotstar</code> (Patterns):</strong> Introduces wildcards (<code>*</code>) to find multiple values.</li>
<li><strong><code>dotselect</code> (Advanced):</strong> The workhorse. Uses the full <code>dotpath</code> engine to perform complex selections with filters, slices, and descendants.</li>
<li><strong><code>dotpath</code> (Engine):</strong> The underlying path-parsing and resolution engine that is extensible and compositional, allowing for custom path segments and logic. The simpler operations (<code>dotget</code>, <code>dotstar</code>, <code>dotselect</code>) should not be built on top of <code>dotpath</code>, but implemented as simply as possible to avoid unnecessary complexity. However, conceptually, <code>dotpath</code> is the "Turing-complete" addressing engine of the ecosystem, allowing for arbitrary path expressions and logic.</li>
</ol>
<h3 id="pillar-2-the-logic-pillar-truth">Pillar 2: The Logic Pillar (Truth)</h3>
<p>This pillar focuses on asking true/false questions about a single document.</p>
<ol>
<li>
<p><strong><code>dotexists</code> (Simple Structure):</strong> The simplest question: does a path exist at all?</p>
</li>
<li>
<p><strong><code>dotequals</code> (Simple Content):</strong> If a path exists, does it have a particular value?</p>
</li>
<li><strong><code>dotany</code>/<code>dotall</code> (Quantifiers):</strong> The bridge to complexity. Applies a simple condition to multiple values found by a <code>dotstar</code> path.</li>
<li><strong><code>dotquery</code> (Engine):</strong> The complete logic engine. Allows for building complex, compositional queries with AND/OR/NOT logic.</li>
</ol>
<h3 id="pillar-3-the-transformation-pillar-shape">Pillar 3: The Transformation Pillar (Shape)</h3>
<p>This pillar focuses on transforming the <em>shape</em> of a single document, answering <strong>"How does it change?"</strong>. All operations are immutable and compositional.</p>
<ul>
<li><strong><code>dotpluck</code> (Simple):</strong> Extracts zero or more values from a document. If the path is exact, returns a single value or none; if the path includes wildcards, returns a list of all matches.</li>
<li><strong><code>dotmod</code> (Surgical):</strong> Performs a targeted, immutable modification to a document (e.g., set, delete, or update a value at a path). Designed for simple, direct edits—easy for common cases, but limited in scope.</li>
<li><strong><code>dotpipe</code> (Compositional):</strong> Composes multiple transformations, allowing for arbitrary mapping, restructuring, and function composition over a document. More general and powerful, but sometimes less ergonomic for simple edits than <code>dotmod</code>. All transformations can be piped, but <code>dotmod</code> and <code>dotpipe</code> are side-by-side: each is best for different user needs.</li>
<li><strong><code>dotbatch</code> (Transactional):</strong> Applies a batch of modifications as a single transaction, enabling all-or-nothing guarantees and complex, multi-step updates. <code>dotbatch</code> can leverage both <code>dotmod</code> and <code>dotpipe</code> operations, and may support advanced features like rollback, validation, or atomicity.</li>
</ul>
<hr />
<h2 id="collections-lifting-the-pillars-to-streams">Collections: Lifting the Pillars to Streams</h2>
<p>The Collections layer extends the three pillars from single documents to <em>streams</em> or <em>sets</em> of documents (e.g., JSONL). It is divided into two wings:</p>
<pre><code>+-----------------------------+
|   Collections (Breadth)     |
+-----------------------------+
           |
   +-------+--------+
   |                |
Boolean Wing   Transforming Wing
 (Filtering)      (Mapping/Relating)
   |                |
   |                |
   v                v
`dothas`        (dotmod, dotpipe, dotbatch, dotpluck, ...)
`dotfind`           |
`dotfilter`         |
                    |
                `dotrelate` (multi-collection, highest abstraction)
</code></pre>
<ul>
<li>The <strong>Boolean Wing</strong> is essential for collections: filtering, searching, and logical operations over sets of documents. Boolean algebra on collections is homomorphic to boolean logic on queries: e.g., the intersection of subsets x₁ and x₂ (from queries q₁ and q₂) is the same as applying (q₁ AND q₂) to the original collection.</li>
<li>The <strong>Transforming Wing</strong> includes repeated application of single-document transforms (dotmod, dotpipe, dotbatch, dotpluck, etc.), but the highest-level operation is <strong>dotrelate</strong>, which operates over multiple collections and enables relational algebra (joins, unions, etc.).</li>
<li><code>dotpipe</code> in collections is analogous to a "docview"—a new way of viewing or mapping your documents, but true database-style views and set operations are the domain of <code>dotrelate</code>.</li>
<li><code>dotbatch</code> at the collection level enables transactional or efficient batch operations across the entire set.</li>
</ul>
<hr />
<h2 id="summary-table">Summary Table</h2>
<table>
<thead>
<tr>
<th>Pillar</th>
<th>Single Document (Depth/Truth/Shape)</th>
<th>Collections (Breadth)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Addressing</td>
<td>dotget, dotstar, dotselect, dotpath</td>
<td>dotfind, dothas</td>
</tr>
<tr>
<td>Logic</td>
<td>dotequals, dotexists, dotany, dotall, dotquery</td>
<td>dotfilter</td>
</tr>
<tr>
<td>Transform</td>
<td>dotpluck, dotmod, dotpipe, dotbatch</td>
<td>dotpluck, dotmod, dotpipe, dotbatch, dotrelate</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="design-principles">Design Principles</h2>
<ul>
<li><strong>Compositionality:</strong> All operations can be composed, both within and across pillars.</li>
<li><strong>Immutability:</strong> All transformations are immutable; original data is never mutated.</li>
<li><strong>Pedagogical Progression:</strong> Each pillar and wing is organized from simple to advanced, making the ecosystem approachable for beginners and powerful for experts.</li>
<li><strong>Lifting:</strong> The collections layer is a lifting of the single-document pillars to operate over streams/sets, preserving the same semantics and compositionality.</li>
</ul>
<hr />
<p>By adopting this formal structure, the <code>dot</code> ecosystem provides a highly consistent, predictable, and teachable set of tools for both single-document and collection-oriented data manipulation.</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
